{"pageProps":{"post":{"title":"Mailgun Automated Response System","publishedAt":"2014-09-07T00:00:00.000Z","summary":"My introduction to reactive systems.","body":{"raw":"## Background\nAs a brand new engineer, I was asked to evaluate Scala and Akka for backend services. Along the way, I learned how to\nlearn new programming languages and techniques while still contributing value, and an important lesson about data.\n\n## A New Language\nFor the first-time user (let alone first-time engineer), Scala can be a daunting language. This isn't exactly approachable:\n```scala\ndef foldLeft[B](z: B)(op: (B, A) â‡’ B): B\n```\nFor better or worse, a reasonable IDE will greet you with things like this when dealing with Scala collections. Lots of functions\nwith generic parameters that do increasingly generic things. And here is the first lesson: when in doubt, try it out. IDEs\nwith built in debuggers are modern magic - use them. Scala is a statically typed language - meaning when it thinks something\nis wrong, it won't compile. You can be reasonable assured that compiled Scala code is going to run *something*. So run it!\nPlace breakpoints! Not sure what this crazy function does? Write a quick demo and find out. Learning by doing is definitely\nnot the wrong way, especially in software where changes are so easy to make. After a couple of tries, you realize\n`collection.foldLeft(0.0)(_ + _)` is just a *really* fancy way of saying give me the sum of this collection as a double.\n\n## Behave!\nAfter a while, Scala becomes a somewhat approachable language (tip: ignore the *purely functional* stuff if you don't need it.) -\nit can be object-oriented, like Java, or it can be functional, like Python, or it can be both! Both is a bit of a stretch\nsometimes, so I found it best to pick one. In this project, I took the object oriented approach, and quickly discovered I needed\nsomething more flexible to handle HTTP requests. Enter the Akka framework and **spray-can**, an excellent HTTP server (edit:\nfrom the future, spray-can is missed greatly). Akka is a message-driven Actor Framework for the JVM, inspired by Erlang, where\neach object (an actor) has behaviors (actions) that are triggered by messages. For instance, if I want to write something to a database,\nI might have a DbActor with a write method, triggered by a WriteMessage message.\n\nMore interestingly, Actors also have a lifecycle. You can take advantage of this to do things like setup and teardown database connections\nin a more dynamic fashion than a traditional constructor. Akka happens to be terrifyingly efficient, and can house a truly ludicrous\nnumber of actors in a single machine. Seriously - they only take up a few hundred bytes of memory each. So throwing lots of messages around\nand having actors spin up and down in response is no big deal. This allows you to encapsulate units of work into small, purpose built actors.\n\nPutting together behavior and lifecycle is more than just an efficient programming paradigm, it also helps frame how you think about your\nsystem. As my first real project, I had never dealt with HTTP requests or databases before. But once I realized what Akka was providing me,\nI began to understand everything as a set of behaviors, and the pieces began to fall into place. And this was the second lesson - use your tools.\nIt's somewhat trivial, but software tools are no different than physical tools. Akka is just a hammer. A very, very special hammer, that\nif you swing in a particular way, does things that other hammers do not.\n\n## Missing in Action\nAfter you do all the programming, and all the testing, it's time for production. In this project, production was gathering\ninformation from webhooks sent by Mailgun, triggered by email marketing campaigns. The goal was simple - understand how\npeople are interacting with the messaging we are sending out into the world. So, up goes the server, and out go the emails.\nThe next morning, you wake up, check the database, and there's...not much. 100 events, give or take. Given you just sent\nthousands or tens of thousands of emails, that doesn't seem right. According to Mailgun's documentation, you should be getting events\nfor opens, clicks, etc. You're a first time engineer, so maybe there's a mistake, right? There's definitely a mistake. You apologize,\n\"my fault, it'll be fixed by the end of the day.\" More testing, more programming. Doesn't seem like anything is wrong. Ask your boss, maybe\nit's related to the infrastructure? Nope, everything looks good on our end. So what's the problem? Spam. Your email is spam.\nOf course it's spam, you're on a brand new domain sending tens of thousands of emails. The few events you are getting back are the people\nunfortunate enough to have an email without a decent spam filter. And this is the final lesson from this project - lack of data is still data,\nspecifically, it's the absence of it. That's still a valid piece of analysis, even if it's not the one anyone wants to hear. But just\nlike the scenarios when you have lots of data, you can still take action based on it. In this case? Make sure your emails are getting past\nthe spam filter.\n\n## Conclusion\n#### Lessons Learned\n1) Try New Things\n2) Trust Your Tools\n3) No Data is Data","code":"var Component=(()=>{var ua=Object.create;var D=Object.defineProperty;var la=Object.getOwnPropertyDescriptor;var da=Object.getOwnPropertyNames;var ca=Object.getPrototypeOf,fa=Object.prototype.hasOwnProperty;var z=(d,n)=>()=>(n||d((n={exports:{}}).exports,n),n.exports),ba=(d,n)=>{for(var p in n)D(d,p,{get:n[p],enumerable:!0})},we=(d,n,p,_)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let v of da(n))!fa.call(d,v)&&v!==p&&D(d,v,{get:()=>n[v],enumerable:!(_=la(n,v))||_.enumerable});return d};var ha=(d,n,p)=>(p=d!=null?ua(ca(d)):{},we(n||!d||!d.__esModule?D(p,\"default\",{value:d,enumerable:!0}):p,d)),ma=d=>we(D({},\"__esModule\",{value:!0}),d);var xe=z((wa,Ee)=>{Ee.exports=React});var Ne=z(G=>{\"use strict\";(function(){\"use strict\";var d=xe(),n=Symbol.for(\"react.element\"),p=Symbol.for(\"react.portal\"),_=Symbol.for(\"react.fragment\"),v=Symbol.for(\"react.strict_mode\"),H=Symbol.for(\"react.profiler\"),X=Symbol.for(\"react.provider\"),K=Symbol.for(\"react.context\"),R=Symbol.for(\"react.forward_ref\"),U=Symbol.for(\"react.suspense\"),F=Symbol.for(\"react.suspense_list\"),T=Symbol.for(\"react.memo\"),I=Symbol.for(\"react.lazy\"),Te=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,Se=\"@@iterator\";function Pe(e){if(e===null||typeof e!=\"object\")return null;var a=J&&e[J]||e[Se];return typeof a==\"function\"?a:null}var E=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(e){{for(var a=arguments.length,r=new Array(a>1?a-1:0),t=1;t<a;t++)r[t-1]=arguments[t];Ce(\"error\",e,r)}}function Ce(e,a,r){{var t=E.ReactDebugCurrentFrame,s=t.getStackAddendum();s!==\"\"&&(a+=\"%s\",r=r.concat([s]));var l=r.map(function(o){return String(o)});l.unshift(\"Warning: \"+a),Function.prototype.apply.call(console[e],console,l)}}var Oe=!1,Ae=!1,De=!1,Ue=!1,Fe=!1,Z;Z=Symbol.for(\"react.module.reference\");function Ie(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===_||e===H||Fe||e===v||e===U||e===F||Ue||e===Te||Oe||Ae||De||typeof e==\"object\"&&e!==null&&(e.$$typeof===I||e.$$typeof===T||e.$$typeof===X||e.$$typeof===K||e.$$typeof===R||e.$$typeof===Z||e.getModuleId!==void 0))}function Me(e,a,r){var t=e.displayName;if(t)return t;var s=a.displayName||a.name||\"\";return s!==\"\"?r+\"(\"+s+\")\":r}function Q(e){return e.displayName||\"Context\"}function g(e){if(e==null)return null;if(typeof e.tag==\"number\"&&b(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case _:return\"Fragment\";case p:return\"Portal\";case H:return\"Profiler\";case v:return\"StrictMode\";case U:return\"Suspense\";case F:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case K:var a=e;return Q(a)+\".Consumer\";case X:var r=e;return Q(r._context)+\".Provider\";case R:return Me(e,e.render,\"ForwardRef\");case T:var t=e.displayName||null;return t!==null?t:g(e.type)||\"Memo\";case I:{var s=e,l=s._payload,o=s._init;try{return g(o(l))}catch{return null}}}return null}var w=Object.assign,j=0,ee,ae,re,ne,te,ie,oe;function se(){}se.__reactDisabledLog=!0;function Ye(){{if(j===0){ee=console.log,ae=console.info,re=console.warn,ne=console.error,te=console.group,ie=console.groupCollapsed,oe=console.groupEnd;var e={configurable:!0,enumerable:!0,value:se,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}j++}}function Le(){{if(j--,j===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:w({},e,{value:ee}),info:w({},e,{value:ae}),warn:w({},e,{value:re}),error:w({},e,{value:ne}),group:w({},e,{value:te}),groupCollapsed:w({},e,{value:ie}),groupEnd:w({},e,{value:oe})})}j<0&&b(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var M=E.ReactCurrentDispatcher,Y;function S(e,a,r){{if(Y===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\\n( *(at )?)/);Y=t&&t[1]||\"\"}return`\n`+Y+e}}var L=!1,P;{var We=typeof WeakMap==\"function\"?WeakMap:Map;P=new We}function ue(e,a){if(!e||L)return\"\";{var r=P.get(e);if(r!==void 0)return r}var t;L=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var l;l=M.current,M.current=null,Ye();try{if(a){var o=function(){throw Error()};if(Object.defineProperty(o.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(o,[])}catch(y){t=y}Reflect.construct(e,[],o)}else{try{o.call()}catch(y){t=y}e.call(o.prototype)}}else{try{throw Error()}catch(y){t=y}e()}}catch(y){if(y&&t&&typeof y.stack==\"string\"){for(var i=y.stack.split(`\n`),h=t.stack.split(`\n`),c=i.length-1,f=h.length-1;c>=1&&f>=0&&i[c]!==h[f];)f--;for(;c>=1&&f>=0;c--,f--)if(i[c]!==h[f]){if(c!==1||f!==1)do if(c--,f--,f<0||i[c]!==h[f]){var m=`\n`+i[c].replace(\" at new \",\" at \");return e.displayName&&m.includes(\"<anonymous>\")&&(m=m.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&P.set(e,m),m}while(c>=1&&f>=0);break}}}finally{L=!1,M.current=l,Le(),Error.prepareStackTrace=s}var N=e?e.displayName||e.name:\"\",_e=N?S(N):\"\";return typeof e==\"function\"&&P.set(e,_e),_e}function $e(e,a,r){return ue(e,!1)}function Ve(e){var a=e.prototype;return!!(a&&a.isReactComponent)}function C(e,a,r){if(e==null)return\"\";if(typeof e==\"function\")return ue(e,Ve(e));if(typeof e==\"string\")return S(e);switch(e){case U:return S(\"Suspense\");case F:return S(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case R:return $e(e.render);case T:return C(e.type,a,r);case I:{var t=e,s=t._payload,l=t._init;try{return C(l(s),a,r)}catch{}}}return\"\"}var O=Object.prototype.hasOwnProperty,le={},de=E.ReactDebugCurrentFrame;function A(e){if(e){var a=e._owner,r=C(e.type,e._source,a?a.type:null);de.setExtraStackFrame(r)}else de.setExtraStackFrame(null)}function Be(e,a,r,t,s){{var l=Function.call.bind(O);for(var o in e)if(l(e,o)){var i=void 0;try{if(typeof e[o]!=\"function\"){var h=Error((t||\"React class\")+\": \"+r+\" type `\"+o+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[o]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw h.name=\"Invariant Violation\",h}i=e[o](a,o,t,r,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(c){i=c}i&&!(i instanceof Error)&&(A(s),b(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",t||\"React class\",r,o,typeof i),A(null)),i instanceof Error&&!(i.message in le)&&(le[i.message]=!0,A(s),b(\"Failed %s type: %s\",r,i.message),A(null))}}}var qe=Array.isArray;function W(e){return qe(e)}function ze(e){{var a=typeof Symbol==\"function\"&&Symbol.toStringTag,r=a&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return r}}function Ge(e){try{return ce(e),!1}catch{return!0}}function ce(e){return\"\"+e}function fe(e){if(Ge(e))return b(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",ze(e)),ce(e)}var k=E.ReactCurrentOwner,He={key:!0,ref:!0,__self:!0,__source:!0},be,he,$;$={};function Xe(e){if(O.call(e,\"ref\")){var a=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(a&&a.isReactWarning)return!1}return e.ref!==void 0}function Ke(e){if(O.call(e,\"key\")){var a=Object.getOwnPropertyDescriptor(e,\"key\").get;if(a&&a.isReactWarning)return!1}return e.key!==void 0}function Je(e,a){if(typeof e.ref==\"string\"&&k.current&&a&&k.current.stateNode!==a){var r=g(k.current.type);$[r]||(b('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',g(k.current.type),e.ref),$[r]=!0)}}function Ze(e,a){{var r=function(){be||(be=!0,b(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",a))};r.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:r,configurable:!0})}}function Qe(e,a){{var r=function(){he||(he=!0,b(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",a))};r.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:r,configurable:!0})}}var ea=function(e,a,r,t,s,l,o){var i={$$typeof:n,type:e,key:a,ref:r,props:o,_owner:l};return i._store={},Object.defineProperty(i._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(i,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:t}),Object.defineProperty(i,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i};function aa(e,a,r,t,s){{var l,o={},i=null,h=null;r!==void 0&&(fe(r),i=\"\"+r),Ke(a)&&(fe(a.key),i=\"\"+a.key),Xe(a)&&(h=a.ref,Je(a,s));for(l in a)O.call(a,l)&&!He.hasOwnProperty(l)&&(o[l]=a[l]);if(e&&e.defaultProps){var c=e.defaultProps;for(l in c)o[l]===void 0&&(o[l]=c[l])}if(i||h){var f=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;i&&Ze(o,f),h&&Qe(o,f)}return ea(e,i,h,s,t,k.current,o)}}var V=E.ReactCurrentOwner,me=E.ReactDebugCurrentFrame;function x(e){if(e){var a=e._owner,r=C(e.type,e._source,a?a.type:null);me.setExtraStackFrame(r)}else me.setExtraStackFrame(null)}var B;B=!1;function q(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function pe(){{if(V.current){var e=g(V.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function ra(e){{if(e!==void 0){var a=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),r=e.lineNumber;return`\n\nCheck your code at `+a+\":\"+r+\".\"}return\"\"}}var ge={};function na(e){{var a=pe();if(!a){var r=typeof e==\"string\"?e:e.displayName||e.name;r&&(a=`\n\nCheck the top-level render call using <`+r+\">.\")}return a}}function ye(e,a){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var r=na(a);if(ge[r])return;ge[r]=!0;var t=\"\";e&&e._owner&&e._owner!==V.current&&(t=\" It was passed a child from \"+g(e._owner.type)+\".\"),x(e),b('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,t),x(null)}}function ve(e,a){{if(typeof e!=\"object\")return;if(W(e))for(var r=0;r<e.length;r++){var t=e[r];q(t)&&ye(t,a)}else if(q(e))e._store&&(e._store.validated=!0);else if(e){var s=Pe(e);if(typeof s==\"function\"&&s!==e.entries)for(var l=s.call(e),o;!(o=l.next()).done;)q(o.value)&&ye(o.value,a)}}}function ta(e){{var a=e.type;if(a==null||typeof a==\"string\")return;var r;if(typeof a==\"function\")r=a.propTypes;else if(typeof a==\"object\"&&(a.$$typeof===R||a.$$typeof===T))r=a.propTypes;else return;if(r){var t=g(a);Be(r,e.props,\"prop\",t,e)}else if(a.PropTypes!==void 0&&!B){B=!0;var s=g(a);b(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",s||\"Unknown\")}typeof a.getDefaultProps==\"function\"&&!a.getDefaultProps.isReactClassApproved&&b(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function ia(e){{for(var a=Object.keys(e.props),r=0;r<a.length;r++){var t=a[r];if(t!==\"children\"&&t!==\"key\"){x(e),b(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",t),x(null);break}}e.ref!==null&&(x(e),b(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),x(null))}}function oa(e,a,r,t,s,l){{var o=Ie(e);if(!o){var i=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(i+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var h=ra(s);h?i+=h:i+=pe();var c;e===null?c=\"null\":W(e)?c=\"array\":e!==void 0&&e.$$typeof===n?(c=\"<\"+(g(e.type)||\"Unknown\")+\" />\",i=\" Did you accidentally export a JSX literal instead of a component?\"):c=typeof e,b(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",c,i)}var f=aa(e,a,r,s,l);if(f==null)return f;if(o){var m=a.children;if(m!==void 0)if(t)if(W(m)){for(var N=0;N<m.length;N++)ve(m[N],e);Object.freeze&&Object.freeze(m)}else b(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ve(m,e)}return e===_?ia(f):ta(f),f}}var sa=oa;G.Fragment=_,G.jsxDEV=sa})()});var ke=z((xa,je)=>{\"use strict\";je.exports=Ne()});var va={};ba(va,{default:()=>ya,frontmatter:()=>pa});var u=ha(ke()),pa={type:\"Project\",title:\"Mailgun Automated Response System\",summary:\"My introduction to reactive systems.\",publishedAt:\"2014-09-07\"};function Re(d){let n=Object.assign({h2:\"h2\",p:\"p\",pre:\"pre\",code:\"code\",em:\"em\",strong:\"strong\",h4:\"h4\",ol:\"ol\",li:\"li\"},d.components);return(0,u.jsxDEV)(u.Fragment,{children:[(0,u.jsxDEV)(n.h2,{children:\"Background\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:7,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.p,{children:`As a brand new engineer, I was asked to evaluate Scala and Akka for backend services. Along the way, I learned how to\nlearn new programming languages and techniques while still contributing value, and an important lesson about data.`},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:8,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.h2,{children:\"A New Language\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:11,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.p,{children:\"For the first-time user (let alone first-time engineer), Scala can be a daunting language. This isn't exactly approachable:\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:12,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.pre,{children:(0,u.jsxDEV)(n.code,{className:\"language-scala\",children:`def foldLeft[B](z: B)(op: (B, A) \\u21D2 B): B\n`},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:13,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:13,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.p,{children:[`For better or worse, a reasonable IDE will greet you with things like this when dealing with Scala collections. Lots of functions\nwith generic parameters that do increasingly generic things. And here is the first lesson: when in doubt, try it out. IDEs\nwith built in debuggers are modern magic - use them. Scala is a statically typed language - meaning when it thinks something\nis wrong, it won't compile. You can be reasonable assured that compiled Scala code is going to run `,(0,u.jsxDEV)(n.em,{children:\"something\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:19,columnNumber:100},this),`. So run it!\nPlace breakpoints! Not sure what this crazy function does? Write a quick demo and find out. Learning by doing is definitely\nnot the wrong way, especially in software where changes are so easy to make. After a couple of tries, you realize\n`,(0,u.jsxDEV)(n.code,{children:\"collection.foldLeft(0.0)(_ + _)\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:22,columnNumber:1},this),\" is just a \",(0,u.jsxDEV)(n.em,{children:\"really\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:22,columnNumber:45},this),\" fancy way of saying give me the sum of this collection as a double.\"]},void 0,!0,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:16,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.h2,{children:\"Behave!\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:24,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.p,{children:[\"After a while, Scala becomes a somewhat approachable language (tip: ignore the \",(0,u.jsxDEV)(n.em,{children:\"purely functional\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:25,columnNumber:80},this),` stuff if you don't need it.) -\nit can be object-oriented, like Java, or it can be functional, like Python, or it can be both! Both is a bit of a stretch\nsometimes, so I found it best to pick one. In this project, I took the object oriented approach, and quickly discovered I needed\nsomething more flexible to handle HTTP requests. Enter the Akka framework and `,(0,u.jsxDEV)(n.strong,{children:\"spray-can\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:28,columnNumber:79},this),`, an excellent HTTP server (edit:\nfrom the future, spray-can is missed greatly). Akka is a message-driven Actor Framework for the JVM, inspired by Erlang, where\neach object (an actor) has behaviors (actions) that are triggered by messages. For instance, if I want to write something to a database,\nI might have a DbActor with a write method, triggered by a WriteMessage message.`]},void 0,!0,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.p,{children:`More interestingly, Actors also have a lifecycle. You can take advantage of this to do things like setup and teardown database connections\nin a more dynamic fashion than a traditional constructor. Akka happens to be terrifyingly efficient, and can house a truly ludicrous\nnumber of actors in a single machine. Seriously - they only take up a few hundred bytes of memory each. So throwing lots of messages around\nand having actors spin up and down in response is no big deal. This allows you to encapsulate units of work into small, purpose built actors.`},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.p,{children:`Putting together behavior and lifecycle is more than just an efficient programming paradigm, it also helps frame how you think about your\nsystem. As my first real project, I had never dealt with HTTP requests or databases before. But once I realized what Akka was providing me,\nI began to understand everything as a set of behaviors, and the pieces began to fall into place. And this was the second lesson - use your tools.\nIt's somewhat trivial, but software tools are no different than physical tools. Akka is just a hammer. A very, very special hammer, that\nif you swing in a particular way, does things that other hammers do not.`},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:38,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.h2,{children:\"Missing in Action\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:44,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.p,{children:`After you do all the programming, and all the testing, it's time for production. In this project, production was gathering\ninformation from webhooks sent by Mailgun, triggered by email marketing campaigns. The goal was simple - understand how\npeople are interacting with the messaging we are sending out into the world. So, up goes the server, and out go the emails.\nThe next morning, you wake up, check the database, and there's...not much. 100 events, give or take. Given you just sent\nthousands or tens of thousands of emails, that doesn't seem right. According to Mailgun's documentation, you should be getting events\nfor opens, clicks, etc. You're a first time engineer, so maybe there's a mistake, right? There's definitely a mistake. You apologize,\n\"my fault, it'll be fixed by the end of the day.\" More testing, more programming. Doesn't seem like anything is wrong. Ask your boss, maybe\nit's related to the infrastructure? Nope, everything looks good on our end. So what's the problem? Spam. Your email is spam.\nOf course it's spam, you're on a brand new domain sending tens of thousands of emails. The few events you are getting back are the people\nunfortunate enough to have an email without a decent spam filter. And this is the final lesson from this project - lack of data is still data,\nspecifically, it's the absence of it. That's still a valid piece of analysis, even if it's not the one anyone wants to hear. But just\nlike the scenarios when you have lots of data, you can still take action based on it. In this case? Make sure your emails are getting past\nthe spam filter.`},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.h2,{children:\"Conclusion\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:59,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.h4,{children:\"Lessons Learned\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:60,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.ol,{children:[`\n`,(0,u.jsxDEV)(n.li,{children:\"Try New Things\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:61,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.li,{children:\"Trust Your Tools\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:62,columnNumber:1},this),`\n`,(0,u.jsxDEV)(n.li,{children:\"No Data is Data\"},void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:63,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:61,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\",lineNumber:1,columnNumber:1},this)}function ga(d={}){let{wrapper:n}=d.components||{};return n?(0,u.jsxDEV)(n,Object.assign({},d,{children:(0,u.jsxDEV)(Re,d,void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\"},this)}),void 0,!1,{fileName:\"/Users/bbagdasarian/ahappypie.github.io/data/projects/_mdx_bundler_entry_point-3ada32ab-3596-4007-80ef-bb1690685765.mdx\"},this):Re(d)}var ya=ga;return ma(va);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"},"_id":"projects/mailgun-webhook.mdx","_raw":{"sourceFilePath":"projects/mailgun-webhook.mdx","sourceFileName":"mailgun-webhook.mdx","sourceFileDir":"projects","contentType":"mdx","flattenedPath":"projects/mailgun-webhook"},"type":"Project","wordCount":875,"slug":"mailgun-webhook"}},"__N_SSG":true}